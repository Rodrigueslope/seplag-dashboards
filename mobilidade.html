<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard de Mobilidade Urbana - SEPLAG-CE</title>

  <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
  <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
  <link rel="stylesheet" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />

  <style>
    body { margin: 0; padding: 0; }
    #map { width: 100vw; height: 100vh; }
  </style>
</head>

<body>

<div id="map"></div>

<script>
  var platform = new H.service.Platform({
    apikey: 'kEhxcp7sQl0hf7PuQv9cZGPrY4lIKA2FmF5OL9lecKhA' // Sua API KEY
  });

  var layers = platform.createDefaultLayers({
    lg: 'por' // Carrega linguagem PortuguÃªs
  });

  // Agora usa mapa RASTER (nÃ£o vetorial)
  var map = new H.Map(
    document.getElementById('map'),
    layers.raster.normal.map, // Mapa normal rasterizado
    {
      center: { lat: -3.809204, lng: -38.491068 }, // SEPLAG Fortaleza
      zoom: 15,
      pixelRatio: window.devicePixelRatio || 1
    }
  );

  window.addEventListener('resize', () => map.getViewPort().resize());

  var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));
  var ui = H.ui.UI.createDefault(map, layers);

  // ðŸ”¥ Aqui carrega camada de trÃ¢nsito como Tile Layer
  var trafficLayer = platform.getMapTileService({type: 'traffic'}).createTileLayer(
    'flow',
    256,
    { style: 'relative' }
  );

  map.addLayer(trafficLayer);
</script>

</body>
</html>
